tvbkRP={}tvrsP={}Tunnel.bindInterface("vrp_banking",tvbkRP)Tunnel.bindInterface("vRP",tvrsP)vRPserver=Tunnel.getInterface("vrp_banking","vRP")vRP=Proxy.getInterface("vRP")function tvrsP.atmEnter(a,b,c)SetNuiFocus(true,true)open=true;SendNUIMessage({action="open",bank=b,cash=a,code=c})end;function tvrsP.bankEnter(d,a,b)SetNuiFocus(true,true)SendNUIMessage({action="openBank",bank=b,cash=a,type="fleeca",firstname=d.name,lastname=d.firstname,account=d.user_id})end;function tvrsP.atmLeave()SetNuiFocus(false,false)end;RegisterNUICallback('insert',function(d,e)e('ok')vRPserver.atmInsert({d.money})end)RegisterNUICallback('take',function(d,e)e('ok')vRPserver.atmTake({d.money})end)RegisterNUICallback('transfer',function(d,e)e('ok')vRPserver.atmTransfer({d.money,d.account})end)RegisterNUICallback('setcode',function(d,e)vRPserver.setAtmCode({d.setcode})end)RegisterNUICallback('escape',function(d,e)SetNuiFocus(false,false)open=false;e('ok')end)RegisterNUICallback('error',function(d,e)SetNuiFocus(false,false)open=false;e('ok')vRP.notify("Ocorreu um erro")end)
--Todos os direitos reservados a Rodrigo Lujan (Yang#6376), Copyright (C) 2018
--Discord: Yang#6376